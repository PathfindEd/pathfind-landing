---
layout: default
title: Personalised Study Abroad Assessment
permalink: /consultation/
---

<div class="form-container">
    <h1 class="form-header-title">Personalised Study Abroad Assessment</h1>
    <p class="form-header-tagline">
        Pathfind Education offers free, honest advice to help students apply to universities in the UK, USA, Australia, Canada, and Europe.
    </p>

    <form name="consultation" method="POST" action="https://consultation-handler.wild-morning-134b.workers.dev/" enctype="multipart/form-data">
        
        <div id="progress-indicator">
            <span class="step active" id="step-1">1</span>
            <span class="step" id="step-2">2</span>
            <span class="step" id="step-3">3</span>
            <span class="step" id="step-4">4</span>
        </div>
        
        <fieldset class="form-page" id="page-1">
            <legend>Step 1: Personal Contact Details</legend>
            
            <label for="email">Email <span style="color:red">*</span></label>
            <input type="email" id="email" name="email" required>

            <label for="full_name">Full Name <span style="color:red">*</span></label>
            <input type="text" id="full_name" name="full_name" required>

            <label for="whatsapp_number">Whatsapp number (with country code) <span style="color:red">*</span></label>
            <input type="tel" id="whatsapp_number" name="whatsapp_number" required>
            
            <label for="date_of_birth">Date of Birth <span style="color:red">*</span></label>
            <input type="date" id="date_of_birth" name="date_of_birth" required>

            <label for="city_country">Current City & Country <span style="color:red">*</span></label>
            <input type="text" id="city_country" name="city_country" required>

            <div class="nav-buttons" style="justify-content: flex-end;">
                <button type="button" class="accent-button">Next Step &rarr;</button>
            </div>
        </fieldset>

        <fieldset class="form-page hidden" id="page-2">
            <legend>Step 2: Academic Background</legend>
            
            <label>What is the highest qualification you have completed? <span style="color:red">*</span></label>
            <div class="radio-group" id="qual-group">
                <label><input type="radio" name="highest_qualification" value="O Levels / iGCSE/ 10th Grade" required> O Levels / iGCSE/ 10th Grade</label><br>
                <label><input type="radio" name="highest_qualification" value="A Levels / 12th Grade" required> A Levels / 12th Grade - FA / FSc / ICS / ICom</label><br>
                <label><input type="radio" name="highest_qualification" value="Bachelor’s Degree" required> Bachelor’s Degree</label><br>
                <label><input type="radio" name="highest_qualification" value="Master’s Degree" required> Master’s Degree</label><br>
                <label>
                    <input type="radio" name="highest_qualification" value="Other Qualification" required 
                        onchange="document.getElementById('other_qual_input').style.display = this.checked ? 'block' : 'none';">
                    Other:
                </label>
            </div>
            <input type="text" id="other_qual_input" name="other_qualification_details" placeholder="Please specify your qualification" style="display:none; margin-top: 5px;">

            <label for="full_course_name">What was the full course name? <span style="color:red">*</span></label>
            <input type="text" id="full_course_name" name="full_course_name" required>

            <label for="completion_details">Year completed and grade achieved or predicted? <span style="color:red">*</span></label>
            <input type="text" id="completion_details" name="completion_details" required>

            <div class="nav-buttons">
                <button type="button" class="dark-button">&larr; Previous</button>
                <button type="button" class="accent-button">Next Step &rarr;</button>
            </div>
        </fieldset>
        
        <fieldset class="form-page hidden" id="page-3">
            <legend>Step 3: Study Preferences</legend>
            
            <label>Which course level do you plan to study? <span style="color:red">*</span></label>
            <div class="radio-group" id="course-group">
                <label><input type="radio" name="course_level" value="Foundation / Pathway" required> Foundation / Pathway</label><br>
                <label><input type="radio" name="course_level" value="Undergraduate (Bachelor’s)" required> Undergraduate (Bachelor’s)</label><br>
                <label><input type="radio" name="course_level" value="Postgraduate (Master’s)" required> Postgraduate (Master’s)</label><br>
                <label><input type="radio" name="course_level" value="PhD / Research" required> PhD / Research</label><br>
                <label><input type="radio" name="course_level" value="Other Course Level" required> Other:</label>
            </div>

            <label for="target_subject">Subject you wish to study? <span style="color:red">*</span></label>
            <input type="text" id="target_subject" name="target_subject" required>

            <label for="target_countries">Which country/countries do you want to study in? <span style="color:red">*</span></label>
            <input type="text" id="target_countries" name="target_countries" required>

            <label>Have you taken any English test? If yes, what was your score? <span style="color:red">*</span></label>
            <div class="radio-group" id="english-test-group">
                <label><input type="radio" name="english_test_taken" value="IELTS" required> IELTS</label><br>
                <label><input type="radio" name="english_test_taken" value="PTE" required> PTE</label><br>
                <label><input type="radio" name="english_test_taken" value="TOEFL" required> TOEFL</label><br>
                <label><input type="radio" name="english_test_taken" value="Duolingo" required> Duolingo</label><br>
                <label><input type="radio" name="english_test_taken" value="Medium of Instruction (MOI)" required> Medium of Instruction (MOI)</label><br>
                <label>
                    <input type="radio" name="english_test_taken" value="Other Test" required 
                        onchange="document.getElementById('other_test_input').style.display = this.checked ? 'block' : 'none';">
                    Other:
                </label>
                <label><input type="radio" name="english_test_taken" value="None Taken" required> None Taken</label>
            </div>
            <input type="text" id="other_test_input" name="other_test_details" placeholder="e.g. Cambridge, Michigan Test" style="display:none; margin-top: 5px;">

            <label for="english_test_score_willing">What score did you obtain? If none taken, would you be willing to take an English test if required? <span style="color:red">*</span></label>
            <input type="text" id="english_test_score_willing" name="english_test_score_willing" required>

            <label for="budget_range">Budget range (tuition + living per year, in GBP or USD) <span style="color:red">*</span></label>
            <input type="text" id="budget_range" name="budget_range" required>

            <label>When do you plan to start studying abroad? <span style="color:red">*</span></label>
            <div class="radio-group" id="start-date-group">
                <label><input type="radio" name="target_start_date" value="January / February 2026" required> January / February 2026</label><br>
                <label><input type="radio" name="target_start_date" value="May / July 2026" required> May / July 2026</label><br>
                <label><input type="radio" name="target_start_date" value="September 2026" required> September 2026</label><br>
                <label><input type="radio" name="target_start_date" value="Later / Not sure yet" required> Later / Not sure yet</label>
            </div>

            <label for="previous_application_visa">Have you applied anywhere before? If so, have you had a visa refused? <span style="color:red">*</span></label>
            <input type="text" id="previous_application_visa" name="previous_application_visa" required>


            <div class="nav-buttons">
                <button type="button" class="dark-button">&larr; Previous</button>
                <button type="button" class="accent-button">Next Step &rarr;</button>
            </div>
        </fieldset>

        <fieldset class="form-page hidden" id="page-4">
            <legend>Step 4: Required Confidential Documents</legend>
            <p class="upload-note" style="color: var(--muted); font-size: 14px;">All files are stored securely and GDPR-compliant. Please ensure you have **two separate files** prepared.</p>
            
            <label for="transcript_file" class="upload-label">Transcripts (Academic Records) <span style="color:red">*</span></label>
            <input type="file" id="transcript_file" name="transcript_file" accept=".pdf,.jpg,.png" required>

            <label for="passport_id_file" class="upload-label">Passport/ID (Photo Page or Government ID) <span style="color:red">*</span></label>
            <input type="file" id="passport_id_file" name="passport_id_file" accept=".pdf,.jpg,.png" required>

            <hr style="margin: 20px 0;">
            
            <label for="data_processing_consent" id="consent-label" style="font-weight: 400; color: #333;">
                <input type="checkbox" id="data_processing_consent" name="data_processing_consent" value="Yes, I confirm" required>
                **Yes, I confirm,** I consent to Pathfind Education collecting and processing my data and confirm my documents are accurate and belong to me. <span style="color:red">*</span>
            </label>

            <label for="marketing_consent" style="font-weight: 400; color: #333; margin-top: 15px; display: flex; align-items: flex-start;">
                <input type="checkbox" id="marketing_consent" name="marketing_consent" value="Yes, I consent">
                (Optional marketing consent) Do you consent to receiving occasional emails about study abroad opportunities and updates?
            </label>

            <label for="additional_notes">Is there anything else you would like us to know?</label>
            <textarea id="additional_notes" name="additional_notes" rows="3"></textarea>
            
            <label>Where did you hear about us? <span style="color:red">*</span></label>
            <div class="radio-group" id="referral-group">
                <label><input type="radio" name="referral_source" value="Google Search" required> Google Search</label><br>
                <label><input type="radio" name="referral_source" value="Facebook" required> Facebook</label><br>
                <label><input type="radio" name="referral_source" value="Tiktok" required> Tiktok</label><br>
                <label><input type="radio" name="referral_source" value="Whatsapp" required> Whatsapp</label><br>
                <label><input type="radio" name="referral_source" value="Family / Friends" required> Family / Friends</label><br>
                <label><input type="radio" name="referral_source" value="Other Referral" required> Other:</label>
            </div>
            
            <div class="nav-buttons">
                <button type="button" class="dark-button">&larr; Previous</button>
                <button type="submit" class="submit-button" id="final-submit-button">Submit & Get Expert Advice</button>
            </div>
        </fieldset>

    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form[name="consultation"]');
        const submitButton = document.getElementById('final-submit-button');
        const fieldsets = document.querySelectorAll('.form-page');
        const steps = document.querySelectorAll('.step');
        let currentPage = 1;

        if (!form || fieldsets.length === 0 || steps.length === 0) {
            console.error("Form initialization failed: Missing elements.");
            return;
        }

        // --- Helper Functions ---

        function updateFormDisplay() {
            // 1. Update Fieldset Visibility
            fieldsets.forEach((fieldset, index) => {
                fieldset.classList.toggle('hidden', index + 1 !== currentPage);
            });

            // 2. Update Progress Indicator
            steps.forEach((step, index) => {
                step.classList.toggle('active', index + 1 <= currentPage);
            });

            // 3. Scroll to the top of the form container
            const formContainer = document.querySelector('.form-container');
            if (formContainer) {
                formContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function validateCurrentPage(fieldset) {
            let isValid = true;
            let firstInvalid = null;
            
            // Clear previous custom error states (for radio/checkbox/groups)
            fieldset.querySelectorAll('.radio-group, #consent-label').forEach(el => {
                el.style.border = '';
                el.style.backgroundColor = '';
            });
            fieldset.querySelectorAll('input:not([type="radio"]):not([type="checkbox"]), textarea').forEach(input => {
                input.style.borderColor = ''; // Clear explicit red border on text/file inputs
            });

            fieldset.querySelectorAll('[required]').forEach(input => {
                // Ensure field is visible and required
                if (input.closest('.form-page') !== fieldset) return;

                let isInputValid = true;
                
                // --- Custom Validation for Groups (Radio/Checkbox) ---
                if (input.type === 'radio') {
                    const radioName = input.name;
                    // Check if *any* radio in the group is checked
                    if (!fieldset.querySelector(`input[name="${radioName}"]:checked`)) {
                        isInputValid = false;
                    }
                } else if (input.type === 'checkbox') {
                    if (!input.checked) {
                        isInputValid = false;
                    }
                } else if (!input.checkValidity()) {
                    isInputValid = false;
                }

                // Apply custom error borders if invalid
                if (!isInputValid) {
                    isValid = false;
                    if (!firstInvalid) firstInvalid = input;

                    if (input.type === 'checkbox' && input.id === 'data_processing_consent') {
                        const consentLabel = document.getElementById('consent-label');
                        consentLabel.style.backgroundColor = 'rgba(255, 0, 0, 0.1)';
                        consentLabel.style.border = '1px solid red';
                    } else if (input.type === 'radio') {
                        const radioGroup = input.closest('.radio-group');
                        if (radioGroup) {
                            radioGroup.style.border = '1px solid red';
                        }
                    } else {
                        // For other inputs, use the CSS class that already exists
                        input.style.borderColor = 'red';
                        input.reportValidity(); 
                    }
                }
            });
            
            // Scroll to the first detected error
            if (!isValid) {
                 if (firstInvalid) {
                    if (firstInvalid.id === 'data_processing_consent') {
                        document.getElementById('consent-label').scrollIntoView({ behavior: 'smooth', block: 'center' });
                    } else if (firstInvalid.type === 'radio') {
                        firstInvalid.closest('.radio-group').scrollIntoView({ behavior: 'smooth', block: 'center' });
                    } else {
                        firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            }
            
            return isValid;
        }

        // --- Event Handlers ---

        form.addEventListener('click', function(event) {
            const target = event.target;
            const currentFieldset = fieldsets[currentPage - 1];

            if (target.classList.contains('accent-button') && target.type === 'button') {
                event.preventDefault(); // Stop default form action

                if (validateCurrentPage(currentFieldset)) {
                    if (currentPage < fieldsets.length) {
                        currentPage++;
                        updateFormDisplay();
                    }
                }
            } 
            else if (target.classList.contains('dark-button') && target.type === 'button') {
                event.preventDefault();
                if (currentPage > 1) {
                    currentPage--;
                    updateFormDisplay();
                }
            }
        });

        form.addEventListener('submit', function(event) {
            const currentFieldset = fieldsets[currentPage - 1];
            
            // Final page validation check
            if (!validateCurrentPage(currentFieldset)) {
                event.preventDefault();
            } else {
                // SUCCESS: Prevent double submits
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting... Please wait.';
                submitButton.classList.add('submitting');
                // Allow form to submit
            }
        });

        // Initialize the form
        updateFormDisplay();
    });
</script>